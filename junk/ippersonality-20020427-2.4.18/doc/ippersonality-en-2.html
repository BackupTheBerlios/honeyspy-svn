<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>IP Personality: Limitations</TITLE>
 <LINK HREF="ippersonality-en-3.html" REL=next>
 <LINK HREF="ippersonality-en-1.html" REL=previous>
 <LINK HREF="ippersonality-en.html#toc2" REL=contents>
</HEAD>
<BODY>
<A HREF="ippersonality-en-3.html">Next</A>
<A HREF="ippersonality-en-1.html">Previous</A>
<A HREF="ippersonality-en.html#toc2">Contents</A>
<HR>
<H2><A NAME="s2">2. Limitations</A></H2>

<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>By looking at the tests nmap performs, one can notice that
they are all based on abnormal or at least weird packets, hence
easy to detect, so as to send counter-measures.
<P>This way, it seems possible to change replies from a local machine
when we receive such packets. However, these changes have some drawbacks:
<P>
<UL>
<LI>


some characteristics of OS are related to the host architecture
(for instance page sizes on various CPU) which could lead to
performance issues;</LI>
<LI>






some of these changes are more "political" choices of the IP stack
(initial sequence numbers, window sizes, TCP options
available...). Tweaking those allow to fool a scanner but might break
regular connectivity by changing network parameters. It could also
make the system weaker if the emulated IP stack is not as strong as
the initial one.</LI>
</UL>
<P>
<P>
<P>
<P>However, such modifications are possible in most cases for the
local host. But it is not so easy when it comes to routed hosts:
<P>
<UL>
<LI>

since the local host doesn't know the exact state of a remote IP
stack, not all tests can be done there, making it hard to guess a valid
response for a remote host;</LI>
<LI>


the behavior of routed hosts can hardly be changed "live" because there's
no way for the gateway to tell routed hosts how it changed their
packets;</LI>
<LI>

any piece of information discarded on the remote hosts cannot
be "restored" on the gateway (except by keeping the whole
traffic...);</LI>
<LI>



the gateway shouldn't "create" information. That is, if we
consider a test to which the remote hosts would not reply, if the
gateway was replying to it, then it would also reply for hosts that
are down.</LI>
</UL>
<P>
<HR>
<A HREF="ippersonality-en-3.html">Next</A>
<A HREF="ippersonality-en-1.html">Previous</A>
<A HREF="ippersonality-en.html#toc2">Contents</A>
</BODY>
</HTML>
